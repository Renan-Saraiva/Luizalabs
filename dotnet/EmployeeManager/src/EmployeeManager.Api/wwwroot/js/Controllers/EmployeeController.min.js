angular.module("EmployeeManager").controller("EmployeeController",["$scope","EmployeeService",function(n,t){n.isLoading=!1;n.employees=[];n.prospectEmployeeToDelete={};n.currentEmployee={};n.openModal=function(t){n.currentEmployee=t?angular.copy(t):{id:0,name:"",email:"",department:""}};n.save=function(){n.currentEmployee.id===0?n.add(n.currentEmployee):n.update(n.currentEmployee);n.resetForm()};n.add=function(i){t.post(i).then(function(t){i.id=t.data;n.employees.push(i)}).catch(function(n){console.error(n)})};n.update=function(i){t.put(i).then(function(){angular.copy(i,n.employees.filter(n=>n.id===i.id)[0])}).catch(function(n){console.error(n)})};n.openModalDelete=function(t){n.prospectEmployeeToDelete=t};n.delete=function(){t.delete(n.prospectEmployeeToDelete.id).then(function(){n.employees=n.employees.filter(t=>t.id!==n.prospectEmployeeToDelete.id)}).catch(function(n){console.error(n)}).finally(function(){n.prospectEmployeeToDelete={}})};n.list=function(){t.list().then(function(t){n.employees=t.data}).catch(function(n){console.error(n)})};n.resetForm=function(t){n.currentEmployee={};t.$setPristine();t.$setUntouched()};n.list()}]);